open_marketplace_vendor_product_review_index:
    path: /{_locale}/account/vendor/product-reviews
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:indexAction
        _sylius:
            template: "Context/Vendor/ProductReviews/index.html.twig"
            grid: open_marketplace_vendor_product_review

open_marketplace_vendor_product_review_edit:
    path: /{_locale}/account/vendor/product-reviews/{id}/edit
    methods: [GET, POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:updateAction
        _sylius:
            template: "Context/Vendor/ProductReviews/update.html.twig"
            redirect: open_marketplace_vendor_product_review_index
            form: BitBag\OpenMarketplace\Component\Core\Vendor\Form\Type\ProductReviewType

open_marketplace_vendor_product_review_delete:
    path: /{_locale}/account/vendor/product-reviews/{id}/delete
    methods: [DELETE]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:deleteAction
        _sylius:
            redirect: referer

open_marketplace_vendor_product_review_accept:
    path: /{_locale}/account/vendor/product-review/{id}/accept
    methods: [PATCH]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:applyStateMachineTransitionAction
        _sylius:
            state_machine:
                graph: sylius_product_review
                transition: accept
            redirect: referer
            flash: sylius.review.accept

open_marketplace_vendor_product_review_reject:
    path: /{_locale}/account/vendor/product-review/{id}/reject
    methods: [PATCH]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:applyStateMachineTransitionAction
        _sylius:
            state_machine:
                graph: sylius_product_review
                transition: reject
            redirect: referer
            flash: sylius.review.reject
