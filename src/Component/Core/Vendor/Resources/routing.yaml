vendor_profile:
    path: /{_locale}/account/vendor/profile
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.vendor:showAction
        _sylius:
            template: "Context/Vendor/Profile/index.html.twig"

vendor_profile_update:
    path: /{_locale}/account/vendor/profile/update
    methods: [GET, POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        autowire: true
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.vendor:customUpdateAction
        _sylius:
            template: "Context/Vendor/Profile/update.html.twig"
            form: BitBag\OpenMarketplace\Component\Core\Vendor\Form\Type\Profile\ProfileType
            event: update
            flash: open_marketplace.ui.vendor_updated
            redirect:
                route: sylius_shop_account_dashboard

vendor_register_form:
    path: /{_locale}/account/vendor/register
    methods: [GET, POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: open_marketplace.controller.vendor:createAction
        _sylius:
            template: 'Context/Vendor/Register/index.html.twig'
            form: BitBag\OpenMarketplace\Component\Core\Vendor\Form\Type\Profile\ProfileType
            redirect:
                route: vendor_register_form
            flash: vendor.vendor_register

confirm_profile_update_link:
    path: /{_locale}/account/vendor/profile-update/{token}
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.vendor.controller.profile.confirm_update
        _sylius:
            template: "Context/Vendor/Profile/update.html.twig"
            form: BitBag\OpenMarketplace\Component\Core\Vendor\Form\Type\Profile\ProfileType
            event: update
            repository:
                method: findOneByActivationToken
                arguments:
                    token: $token

vendor_register:
    path: /{_locale}/account/vendor_register
    controller: bitbag.open_marketplace.controller.register_vendor_action
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$

vendor_shipping_methods:
    path: /{_locale}/account/vendor/shipping-methods
    methods: [GET, POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.vendor:updateAction
        _sylius:
            template: 'Context/Vendor/ShippingMethods/index.html.twig'
            form: BitBag\OpenMarketplace\Component\Core\Vendor\Form\Type\VendorShippingMethodsType
            event: update
            repository:
                method: findOneById
                arguments:
                    id: "expr:service('bitbag.open_marketplace.component.vendor.context.vendor').getVendor().getId()"
            flash: open_marketplace.ui.shipping_method_updated
            redirect:
                route: vendor_shipping_methods

open_marketplace_vendor_conversation_index:
    path: /{_locale}/account/vendor/conversations
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller:  bitbag.open_marketplace.component.core.vendor.controller.messaging.list_threads
        _sylius:
            template: "Context/Vendor/Conversation/index.html.twig"

open_marketplace_vendor_conversation_show:
    path: /{_locale}/account/vendor/conversations/{id}
    methods: [GET,POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.messaging.show_thread
        _sylius:
            template: "Context/Vendor/Conversation/show.html.twig"

open_marketplace_vendor_conversation_message_add:
    path: /{_locale}/account/vendor/conversations/{id}/message/add
    methods: [GET, POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.messaging.create_message
        _sylius:
            redirect: open_marketplace_vendor_conversation_show
            mail_redirect: open_marketplace_vendor_conversation_show

open_marketplace_vendor_conversation_create:
    path: /{_locale}/account/vendor/conversation/create
    methods: [GET,POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.messaging.create_thread
        _sylius:
            template: "Context/Vendor/Conversation/create.html.twig"
            redirect: open_marketplace_vendor_conversation_show
            mail_redirect: open_marketplace_admin_conversation_show

open_marketplace_vendor_conversation_archive:
    path: /{_locale}/account/vendor/conversations/{id}/archive
    methods: [PATCH]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: open_marketplace.controller.conversation:applyStateMachineTransitionAction
        _sylius:
            state_machine:
                graph: open_marketplace_conversation
                transition: close
            redirect: referer
            flash: open_marketplace.ui.conversation_successfully_closed

open_marketplace_customer_index:
    path: /{_locale}/account/vendor/customers
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.customer:indexAction
        _sylius:
            template: "Context/Vendor/Customers/index.html.twig"
            grid: open_marketplace_vendor_clients

open_marketplace_vendor_customer_show:
    path: /{_locale}/account/vendor/customers/{id}
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        id: 0
        _controller: sylius.controller.customer:showAction
        _sylius:
            permission: true
            template: "Context/Vendor/Customers/show.html.twig"
            repository:
                method: findCustomerForVendor
                arguments:
                    - "expr:service('bitbag.open_marketplace.component.vendor.context.vendor').getVendor()"
                    - $id

open_marketplace_vendor_customer_order_index:
    path: /{_locale}/account/vendor/customers/{id}/orders
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.order:indexAction
        _sylius:
            section: admin
            permission: true
            template: "Context/Vendor/Order/index.html.twig"
            grid: vendor_account_customer_orders

vendor_product_variant_index:
    path: /{_locale}/account/vendor/product-variants/inventory
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_variant:indexAction
        _sylius:
            template: "Context/Vendor/Inventory/index.html.twig"
            grid: vendor_product_variant
            vars:
                route:
                    parameters:
                        productId: $productId
                templates:
                    breadcrumb: "@SyliusAdmin/ProductVariant/Index/_breadcrumb.html.twig"
                icon: cubes
                subheader: sylius.ui.manage_variants

vendor_product_variant_update:
    path: /{_locale}/account/vendor/product-variants/{id}/inventory
    methods: [ GET, PUT ]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_variant:updateAction
        _sylius:
            template: "Context/Vendor/Inventory/update.html.twig"
            grid: sylius_admin_product_variant
            redirect:
                route: vendor_product_variant_index
            repository:
                method: findOneById
                arguments:
                    id: $id
            vars:
                route:
                    parameters:
                        id: $id
                templates:
                    form: "@SyliusAdmin/ProductVariant/_form.html.twig"
                    breadcrumb: "@SyliusAdmin/ProductVariant/Update/_breadcrumb.html.twig"
                    toolbar: "@SyliusAdmin/ProductVariant/Update/_toolbar.html.twig"






bitbag_open_marketplace_vendor_draft_attribute_index:
    path: /{_locale}/account/vendor/product-attributes/index
    methods: [ GET, POST ]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: open_marketplace.controller.product_draft_attribute:indexAction
        _sylius:
            template: "Context/Vendor/DraftAttributes/index.html.twig"
            grid: vendor_draft_attribute

open_marketplace_admin_draft_attribute_create:
    path: /{_locale}/account/vendor/product-attributes/{type}/new
    methods: [GET, POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.draft_attribute:createAction
        _sylius:
            factory:
                method: createTyped
                arguments:
                    type: $type
            template: "Context/Vendor/DraftAttributes/create.html.twig"
            redirect: bitbag_open_marketplace_vendor_draft_attribute_index
            permission: true
            vars:
                subheader: sylius.ui.manage_attributes_of_your_products
                templates:
                    form: "@SyliusAdmin/ProductAttribute/_form.html.twig"
                route:
                    parameters:
                        type: $type

open_marketplace_product_draft_attribute_update:
    path: /{_locale}/account/vendor/product-attributes/{id}/update
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.draft_attribute:updateAction
        _sylius:
            template: "Context/Vendor/DraftAttributes/update.html.twig"
            redirect: bitbag_open_marketplace_vendor_draft_attribute_index
            vars:
                templates:
                    form: "@SyliusAdmin/ProductAttribute/_form.html.twig"
                route:
                    parameters:
                        id: $id

open_marketplace_product_draft_attribute_delete:
    path: /{_locale}/account/vendor/product-attributes/{id}/delete
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.draft_attribute:deleteAction
        _sylius:
            redirect: bitbag_open_marketplace_vendor_draft_attribute_index

vendor_get_attribute_types:
    path: /{_locale}/account/attribute-types
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.draft_attribute:getAttributeTypesAction
        template: "Context/Vendor/DraftAttributes/attributeTypes.html.twig"

bitbag_vendor_get_product_attributes:
    path: /{_locale}/account/attributes
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.draft_attribute:renderAttributesAction
        template: "Context/Vendor/ProductListing/form/_attributeChoice.html.twig"

bitbag_vendor_render_attribute_forms:
    path: /{_locale}/account/attribute-forms
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.common.controller.resource.draft_attribute:renderAttributeValueFormsAction
        template: "Context/Vendor/ProductListing/form/attributeValues.html.twig"

open_marketplace_vendor_product_review_index:
    path: /{_locale}/account/vendor/product-reviews
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:indexAction
        _sylius:
            template: "Context/Vendor/ProductReviews/index.html.twig"
            grid: open_marketplace_vendor_product_review

open_marketplace_vendor_product_review_edit:
    path: /{_locale}/account/vendor/product-reviews/{id}/edit
    methods: [GET, POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:updateAction
        _sylius:
            template: "Context/Vendor/ProductReviews/update.html.twig"
            redirect: open_marketplace_vendor_product_review_index
            form: BitBag\OpenMarketplace\Component\Core\Vendor\Form\Type\ProductReviewType

open_marketplace_vendor_product_review_delete:
    path: /{_locale}/account/vendor/product-reviews/{id}/delete
    methods: [DELETE]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:deleteAction
        _sylius:
            redirect: referer

open_marketplace_vendor_product_review_accept:
    path: /{_locale}/account/vendor/product-review/{id}/accept
    methods: [PATCH]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:applyStateMachineTransitionAction
        _sylius:
            state_machine:
                graph: sylius_product_review
                transition: accept
            redirect: referer
            flash: sylius.review.accept

open_marketplace_vendor_product_review_reject:
    path: /{_locale}/account/vendor/product-review/{id}/reject
    methods: [PATCH]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.product_review:applyStateMachineTransitionAction
        _sylius:
            state_machine:
                graph: sylius_product_review
                transition: reject
            redirect: referer
            flash: sylius.review.reject

open_marketplace_order_listing:
    path: /{_locale}/account/vendor/orders
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.order:indexAction
        _sylius:
            template: "Context/Vendor/Order/index.html.twig"
            grid: vendor_account_order

open_marketplace_vendor_order_show:
    path: /{_locale}/account/vendor/orders/{id}
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.order:showAction
        _sylius:
            section: admin
            permission: true
            template: "Context/Vendor/Order/show.html.twig"
            repository:
                method: findOrderForVendor
                arguments:
                    - "expr:service('bitbag.open_marketplace.component.vendor.context.vendor').getVendor()"
                    - $id

open_marketplace_vendor_order_cancel:
    path: /{_locale}/account/vendor/orders/{id}/cancel
    methods: [PUT]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: open_marketplace.controller.order.order_controller:applyStateMachineTransitionAction
        _sylius:
            permission: true
            state_machine:
                graph: sylius_order
                transition: cancel
            redirect: referer

sylius_vendor_order_resend_confirmation_email:
    path: /{_locale}/account/vendor/{id}/resend-confirmation-email
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.vendor.controller.order.resend_confirmation_email

bitbag_open_marketplace_vendor_order_shipment_ship:
    path: /{_locale}/account/vendor/orders/{orderId}/shipments/{id}/ship
    methods: [PUT]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.shipment:updateAction
        _sylius:
            event: ship
            repository:
                method: findOneByOrderId
                arguments:
                    id: $id
                    orderId: $orderId
            state_machine:
                graph: sylius_shipment
                transition: ship
            redirect: referer
            form: Sylius\Bundle\ShippingBundle\Form\Type\ShipmentShipType
            vars:
                route:
                    parameters:
                        orderId: $orderId
                        id: $id

open_marketplace_vendor_product_listing_index:
    path: /{_locale}/account/vendor/product-listings
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: open_marketplace.controller.product_listing:indexAction
        _sylius:
            template: "Context/Vendor/ProductListing/index.html.twig"
            grid: open_marketplace_vendor_product_listing

open_marketplace_vendor_product_listing_create_product:
    path: /{_locale}/account/vendor/product-listings/create
    methods: [GET,POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.vendor.controller.product_listing.create
        _sylius:
            template: "Context/Vendor/ProductListing/create.html.twig"
            redirect:
                route: vendor_product_variant_index

open_marketplace_vendor_product_listing_edit_product:
    path: /{_locale}/account/vendor/product-listings/{id}/edit
    methods: [GET,POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.vendor.controller.product_listing.update
        _sylius:
            template: "Context/Vendor/ProductListing/update.html.twig"
            redirect:
                route: vendor_product_variant_index

open_marketplace_vendor_product_draft_show_product:
    path: /{_locale}/account/vendor/product-listings/{id}
    methods: [GET,POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: open_marketplace.controller.product_draft:showAction
        _sylius:
            template: 'Context/Vendor/ProductListing/details.html.twig'

open_marketplace_vendor_product_listing_send_for_verification:
    path: /{_locale}/account/vendor/product-listings/{id}/send-for-verification
    methods: [POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.vendor.controller.product_listing.send_for_verification

open_marketplace_vendor_product_listing_remove_action:
    path: /{_locale}/account/vendor/product-listings-hide/{id}
    methods: [POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.vendor.controller.product_listing.remove
        _sylius:
            template: "Context/Vendor/ProductListing/index.html.twig"
            redirect:
                route: vendor_product_variant_index

open_marketplace_vendor_product_listing_enable:
    path: /{_locale}/account/vendor/product-listings/{id}/enable
    methods: [POST]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: bitbag.open_marketplace.component.core.vendor.controller.product_listing.enable

open_marketplace_ajax_taxon_root_nodes:
    path: /{_locale}/account/vendor/root-nodes
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.taxon:indexAction
        _format: json
        _sylius:
            serialization_groups: [Autocomplete]
            permission: true
            repository:
                method: findRootNodes

open_marketplace_ajax_taxon_leafs:
    path: /{_locale}/account/vendor/leafs
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.taxon:indexAction
        _format: json
        _sylius:
            serialization_groups: [Autocomplete]
            permission: true
            repository:
                method: findChildren
                arguments:
                    parentCode: $parentCode

open_marketplace_ajax_taxon_by_code:
    path: /{_locale}/account/vendor/leaf
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.taxon:indexAction
        _format: json
        _sylius:
            serialization_groups: [Autocomplete]
            permission: true
            repository:
                method: findBy
                arguments: [code: $code]

open_marketplace_ajax_taxon_by_name_phrase:
    path: /{_locale}/account/vendor/search
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.taxon:indexAction
        _format: json
        _sylius:
            serialization_groups: [Autocomplete]
            permission: true
            repository:
                method: findByNamePart
                arguments:
                    phrase: expr:service('request_stack').getCurrentRequest().query.get('phrase', '')
                    locale: null
                    limit: 25

open_marketplace_ajax_generate_taxon_slug:
    path: /{_locale}/account/vendor/generate-slug/
    methods: [GET]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.taxon_slug:generateAction
        _format: json

open_marketplace_ajax_taxon_move:
    path: /{_locale}/account/vendor/{id}/move
    methods: [PUT]
    requirements:
        _locale: ^[A-Za-z]{2,4}(_([A-Za-z]{4}|[0-9]{3}))?(_([A-Za-z]{2}|[0-9]{3}))?$
    defaults:
        _controller: sylius.controller.taxon:updateAction
        _format: json
        _sylius:
            permission: true
            form: Sylius\Bundle\TaxonomyBundle\Form\Type\TaxonPositionType
